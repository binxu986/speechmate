# SpeechMate 使用手册

## 概述

SpeechMate 是一个语音识别和翻译助手，可以让你通过语音快速输入文字。支持中英文识别和互译。

---

## 快速开始

### 1. 启动 Host 服务器

首先需要在服务器或本地电脑上启动 Host 服务：

```bash
cd speechmate/host
python start_server.py
```

启动后会显示：
- API Server URL
- Admin API Key（用于管理）

### 2. 启动 Client 客户端

双击 `SpeechMate.exe` 或运行：
```bash
cd speechmate/client
python app/main.py
```

### 3. 配置连接

1. 在客户端主界面中输入：
   - **Base URL**: Host 服务器的地址（如 `http://192.168.1.100:8000`）
   - **API Key**: 从 Web 管理界面获取
2. 点击"测试连接"确认连接成功
3. 点击"保存设置"

### 4. 开始使用

- 按住 **Alt** 键开始录音，松开后自动识别并在光标处输入文字
- 按住 **Shift** 键开始录音，松开后将中文翻译成英文
- 按住 **Shift+A** 键开始录音，松开后将英文翻译成中文

---

## 功能详解

### 语音识别

1. 将光标放在任意文本输入框中（如记事本、浏览器搜索框、Word 等）
2. 按住设置的语音识别快捷键（默认 Alt）
3. 看到录音指示器后开始说话
4. 松开快捷键，等待处理
5. 识别的文字会自动输入到光标位置

**注意**：
- 如果光标不在文本输入框中，文字会复制到剪贴板
- 录音时长不能太短（最少 0.3 秒）

### 语音翻译

支持中英文互译：

| 快捷键 | 功能 |
|--------|------|
| Shift | 中文 → 英文 |
| Shift+A | 英文 → 中文 |

使用方法与语音识别相同，只是最终输出的是翻译后的文字。

---

## Web 管理界面

访问 `http://<服务器IP>:5000` 可以进入管理界面。

### 服务器信息

- 查看 Base URL 和 Admin API Key
- 查看当前运行的模型

### API Key 管理

- 创建新的 API Key
- 启用/禁用 API Key
- 删除 API Key

### 模型配置

可以选择不同的语音识别模型：

| 模型 | 大小 | 速度 | 精度 |
|------|------|------|------|
| tiny | 39MB | 极快 | 一般 |
| base | 74MB | 快 | 较好 |
| small | 244MB | 中等 | 好 |
| medium | 769MB | 较慢 | 很好 |
| large-v3 | 1.5GB | 慢 | 最好 |

**推荐**：
- CPU 用户：使用 small 或 base 模型
- GPU 用户：可以使用 medium 或 large-v3 获得更好精度

### 使用统计

查看各个 API Key 的调用统计，包括：
- 每日/每周/每月的调用次数
- 语音识别和翻译的次数

---

## 系统托盘

SpeechMate 最小化后会显示在系统托盘中：

- **双击图标**：显示主窗口
- **右键菜单**：
  - 显示主窗口
  - 快速语音识别
  - 快速中译英
  - 快速英译中
  - 退出程序

---

## 快捷键配置

在设置界面中可以自定义快捷键：

- 支持的组合键：`alt`, `shift`, `ctrl`
- 格式示例：`alt`, `shift`, `ctrl+a`, `shift+f1`

**注意**：
- 请避免与系统或其他程序的快捷键冲突
- 某些应用程序可能会拦截全局快捷键

---

## 技巧与建议

### 提高识别准确率

1. 使用质量好的麦克风
2. 在安静的环境中录音
3. 说话清晰，语速适中
4. 使用更大的模型（如 medium 或 large-v3）

### 提高响应速度

1. 使用更小的模型（如 tiny 或 base）
2. 使用 GPU 加速
3. 将 Host 部署在性能更好的服务器上

### 多用户场景

1. 为每个用户创建独立的 API Key
2. 在 Web 管理界面中监控各用户的使用情况
3. 可以随时禁用或删除 API Key

---

## 常见问题

### Q: 录音指示器不显示？

A: 检查设置中"显示录音状态指示器"是否勾选。

### Q: 快捷键不工作？

A:
1. 检查快捷键配置是否正确
2. 尝试以管理员身份运行
3. 检查是否有其他程序占用了相同的快捷键

### Q: 识别结果不准确？

A:
1. 尝试使用更大的模型
2. 确保麦克风质量良好
3. 在安静环境中使用

### Q: 处理速度很慢？

A:
1. 使用更小的模型（tiny 或 base）
2. 如果有 GPU，确保配置为使用 CUDA
3. 检查服务器资源使用情况

---

## 更新日志

### v1.0.0
- 初始版本发布
- 支持中英文语音识别
- 支持中英互译
- Web 管理界面
- Windows 客户端
